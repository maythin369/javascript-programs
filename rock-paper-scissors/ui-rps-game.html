<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>RPS Game</title>
    <style>
        ol li {
            white-space: pre-line;
        }
    </style>
</head>
<body>
    <h1>Rock-Paper-Scissors</h1>

    <button id="rock-button">Rock</button>
    <button id="paper-button">Paper</button>
    <button id="scissors-button">Scissors</button>
    <button id="reset-button">Reset</button>

    <br><br><br>

    <h3>Scores</h3>

    <ul>
        <li>Human Score: <span id="human-score">0</span></li>
        <li>Computer Score: <span id="computer-score">0</span></li>
        <li>Tie Score: <span id="tie-score">0</span></li>
    </ul>

    <br>
    
    <h3>Game Log</h3>

    <ol>

    </ol>

    <!-- Javascript -->
    <script>

         // getting the computer choice
        function getComputerChoice(){
            let num = Math.floor(Math.random() * 3) + 1;

            let computerChoice;
            
            switch (num){
                case 1:
                    computerChoice = "rock";
                    break;
                case 2:
                    computerChoice = "paper";
                    break;
                case 3:
                    computerChoice = "scissors";
                    break;
            }

            return computerChoice;                
        }


        //button variables
        const rockButton = document.querySelector('#rock-button');
        const paperButton = document.querySelector('#paper-button');
        const scissorsButton = document.querySelector('#scissors-button');
        const resetButton = document.querySelector('#reset-button');


        //function for the rock button
        rockButton.addEventListener("click", function() {

            let winner;

            let computer = getComputerChoice();
            if (computer === "rock"){
                winner = "tie";
            }else if (computer === "paper"){
                winner = "computer";
            } else {
                winner = "human";
            }

            updateScore(winner)

            createLog("rock", computer, winner);

        })


        //function for the paper button
        paperButton.addEventListener("click", function() {

            let winner;

            let computer = getComputerChoice();
            if (computer === "rock"){
                winner = "human";
            }else if (computer === "paper"){
                winner = "tie";
            } else {
                winner = "computer";
            }

            updateScore(winner)

            createLog("paper", computer, winner);

        })


        //function for the scissors button
        scissorsButton.addEventListener("click", function() {

            let winner;

            let computer = getComputerChoice();
            if (computer === "rock"){
                winner = "computer";
            }else if (computer === "paper"){
                winner = "human";
            } else {
                winner = "tie";
            }

            updateScore(winner)

            createLog("scissors", computer, winner);
        })


        //updateScore & createLog functions
        function updateScore(winner) {
            let humanScore = document.querySelector("#human-score");
            let computerScore = document.querySelector("#computer-score");
            let tieScore = document.querySelector("#tie-score");    

            if (winner === "human") {
                humanScore.textContent = parseInt(humanScore.textContent) + 1;
            } else if (winner === "computer") {
                computerScore.textContent = parseInt(computerScore.textContent) + 1;
            } else {
                tieScore.textContent = parseInt(tieScore.textContent) + 1;
            }
        }

        function createLog(humanChoice, computerChoice, winner) {
            const ol = document.querySelector("ol");
            const li = document.createElement("li");

            let logText;
            if (winner === "tie") {
                logText = `Human: ${humanChoice}\nComputer: ${computerChoice}\nIt's a tie!\n`;
            } else if (winner === "human") {
                logText = `Human: ${humanChoice}\nComputer: ${computerChoice}\nHuman wins!\n`;
            } else {
                logText = `Human: ${humanChoice}\nComputer: ${computerChoice}\nComputer wins!\n`;
            }

            li.textContent = `${logText}\n`;
            ol.appendChild(li);

        }


        //reset button function
        resetButton.addEventListener("click", function() {
            document.querySelector("#human-score").textContent = "0";
            document.querySelector("#computer-score").textContent = "0";
            document.querySelector("#tie-score").textContent = "0";

            const ol = document.querySelector("ol");
            while (ol.firstChild) {
                ol.removeChild(ol.firstChild);
            }
        });
            
    </script>
</body>
</html>